{"version":3,"sources":["App.js","index.js"],"names":["App","useState","search","setSearch","result","setResult","searchInfo","setSearchInfo","handleSearch","e","a","preventDefault","endpoint","fetch","response","ok","Error","statusText","json","query","searchinfo","className","onSubmit","type","placeholder","value","onChange","target","totalhits","map","i","url","pageid","title","dangerouslySetInnerHTML","__html","snippet","href","rel","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"4OAmDeA,MAjDf,WACE,MAA4BC,mBAAS,IAArC,mBAAOC,EAAP,KAAeC,EAAf,KACA,EAA4BF,mBAAS,IAArC,mBAAOG,EAAP,KAAeC,EAAf,KACA,EAAoCJ,mBAAS,IAA7C,mBAAOK,EAAP,KAAmBC,EAAnB,KAEMC,EAAY,uCAAG,WAAMC,GAAN,mBAAAC,EAAA,yDACnBD,EAAEE,iBACa,KAAXT,EAFe,wDAIbU,EAJa,0IAIiIV,GAJjI,SAMIW,MAAMD,GANV,WAMbE,EANa,QAQLC,GARK,sBASXC,MAAMF,EAASG,YATJ,wBAYAH,EAASI,OAZT,QAYbA,EAZa,OAanBb,EAAUa,EAAKC,MAAMjB,QACrBK,EAAcW,EAAKC,MAAMC,YAdN,4CAAH,sDAiBlB,OACE,sBAAKC,UAAU,MAAf,UACE,mCACE,mDACA,sBAAMA,UAAU,aAAaC,SAAUd,EAAvC,SACE,uBAAOe,KAAK,SAASC,YAAY,6BAA6BC,MAAOvB,EAAQwB,SAAU,SAAAjB,GAAC,OAAIN,EAAUM,EAAEkB,OAAOF,YAE9GnB,EAAWsB,UAAa,iDAAoBtB,EAAWsB,aAAiB,MAE7E,qBAAKP,UAAU,UAAf,SACGjB,EAAOyB,KAAI,SAACzB,EAAQ0B,GACb,IAAMC,EAAG,0CAAsC3B,EAAO4B,QACtD,OACE,sBAAKX,UAAU,SAAf,UACI,6BAAKjB,EAAO6B,QACZ,mBAAGC,wBAAyB,CAAEC,OAAQ/B,EAAOgC,WAE7C,mBAAGC,KAAMN,EAAKJ,OAAO,SAASW,IAAI,WAAlC,yBAJyBR,YChC/CS,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.bba3c8b6.chunk.js","sourcesContent":["import { useState } from 'react';\n\nfunction App() {\n  const [search, setSearch] = useState(\"\");\n  const [result, setResult] = useState([]);\n  const [searchInfo, setSearchInfo] = useState({});\n\n  const handleSearch = async e => {\n    e.preventDefault();\n    if (search === '') return;\n\n    const endpoint = `https://en.wikipedia.org/w/api.php?action=query&list=search&prop=info&inprop=url&utf8=&format=json&origin=*&srlimit=20&srsearch=${search}`;\n\n    const response = await fetch(endpoint);\n\n    if (!response.ok) {\n      throw Error(response.statusText); \n    }\n\n    const json = await response.json();\n    setResult(json.query.search);\n    setSearchInfo(json.query.searchinfo);\n  }\n\n  return (\n    <div className=\"App\">\n      <header>\n        <h1>StaFa the Gister!</h1>\n        <form className=\"search-box\" onSubmit={handleSearch}>\n          <input type=\"search\" placeholder=\"What are you looking for ?\" value={search} onChange={e => setSearch(e.target.value)} />\n        </form>\n        { (searchInfo.totalhits) ? <p>Search Results: {searchInfo.totalhits}</p> : ''}\n      </header>\n      <div className=\"results\">\n        {result.map((result, i) => {\n                const url = `https://en.wikipedia.org/?curid=${result.pageid}`;\n                return (\n                  <div className=\"result\" key={i}>\n                      <h3>{result.title}</h3>\n                      <p dangerouslySetInnerHTML={{ __html: result.snippet}}>\n                      </p>\n                      <a href={url} target=\"_blank\" rel=\"nofollow\">Read more</a>\n                  </div>\n                )\n            })}\n            \n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}